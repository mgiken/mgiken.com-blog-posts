title: tmuxでvim serverっぽいことをやってみる
date: 1341994677
author: ryuji
tags: vim tmux

簡単に言うと、こういうことがやりたい。

[singleton.vim 作った - 永遠に未完成](http://d.hatena.ne.jp/thinca/20120201/1328099090 "singleton.vim 作った - 永遠に未完成")

以前から、いろいろ試行錯誤してみたものの、結果的に、これ無理だろってあきらめかけていた。--enable-gui=noと--without-xのvimでは残念ながらclientserverが有効にならないのである。

素直にXセットアップしろって話かもしれないが、そもそも、ssh越しの環境でvim serverつかえるのだろうか? もし、簡単につかえるのであれば、誰か教えてください。

そんな日々を悶々と過ごしていたのだが、今日、なんとなくvim-slimeのソース読んでたら、なんだかtmux使ってごにょごにょ面白いことやってるわけ。そこで、ピコーンと閃いた。はい、tmuxで今開いてるwindowの最初のpaneにvimを固定するスクリプトできた。

https://github.com/ryuji/vis/blob/master/vis

ぼくはvimのタブ機能はつかっていないので、バッファを開くようにしてるけど、タブで開くオプションとかもあればいいのかもしれない。tmux経由でなんでもコマンド流せそうなので、今はファイルを開くことしかやってないが、いろいろほかにも応用できそうな気がする。

あと、tmuxの1セッションにつきvimをひとつにするっていう実装でもよかったのだが、windowが違ったら、そこは別世界だという認識でつかっている。おそらく、思想の問題。でもまだ、tmuxをあまりつかいこなせてるとは言えないので、今後変更するかもしれない。

激しく車輪の再発明っぽいが、なかなかいい感じなので、しばらく試してみる。
